fileVersion: 1
id: e0fe312b-f70b-4cc3-b1af-17f3512734ef
name: AGG_ORDERS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: DW
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9691d805-47d5-4176-a355-58cc576074f6
          stepCounter: e0fe312b-f70b-4cc3-b1af-17f3512734ef
        config: {}
        dataType: INTEGER
        defaultValue: ""
        description: The calendar year. Format YYYY
        name: ORDER_CAL_YEAR
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c7cc4d27-99f3-4163-bd63-95b92959a4d1
                stepCounter: 2a096417-6169-4b44-917a-da7c961b064d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 06447f77-e756-4a7c-9c52-f7ea4e6ce081
          stepCounter: e0fe312b-f70b-4cc3-b1af-17f3512734ef
        config: {}
        dataType: VARCHAR(50)
        defaultValue: ""
        description: This is the customers head office address country
        name: COUNTRY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d9aff56d-6396-40a0-a77e-e600cf84496c
                stepCounter: 3416ae69-cb9b-42bf-a4e6-e66f8bba2840
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c0a13f74-1111-4252-ba52-969483f3ced9
          stepCounter: e0fe312b-f70b-4cc3-b1af-17f3512734ef
        config: {}
        dataType: INT
        defaultValue: ""
        description: This is the internal order id
        isBusinessKey: true
        name: ORDER_COUNT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e5f62eca-c7a7-421f-a7c2-1559878f4f8f
                stepCounter: 9129b4ad-4fdb-4b53-84c7-d8a45c1515bc
            transform: count(1)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd4df751-7946-45e2-a95e-cc3592331136
          stepCounter: e0fe312b-f70b-4cc3-b1af-17f3512734ef
        config: {}
        dataType: MONEY
        defaultValue: ""
        description: The order freight costs
        name: FREIGHT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd40025b-2a87-495f-b7f3-80d29828f42f
                stepCounter: 9129b4ad-4fdb-4b53-84c7-d8a45c1515bc
            transform: sum(fact_orders.freight)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b6e76745-fbf9-4402-842c-b0a4f09b0663
          stepCounter: e0fe312b-f70b-4cc3-b1af-17f3512734ef
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was created in the data warehouse.
        isSystemCreateDate: true
        name: DSS_CREATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4321e347-2c02-4a51-9a0a-8e49355eeabd
          stepCounter: e0fe312b-f70b-4cc3-b1af-17f3512734ef
        config: {}
        dataType: DATETIME
        defaultValue: ""
        description: Date and time the row was updated in the data warehouse.
        isSystemUpdateDate: true
        name: DSS_UPDATE_TIME
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          DIM_ORDER_DATE: 2a096417-6169-4b44-917a-da7c961b064d
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DW
            nodeName: DIM_CUSTOMERS
          - locationName: DW
            nodeName: DIM_ORDER_DATE
          - locationName: DW
            nodeName: FACT_ORDERS
        join:
          joinCondition: FROM {{ ref('DW','DIM_ORDER_DATE') }}
        name: AGG_ORDERS
        noLinkRefs: []
  name: AGG_ORDERS
  overrideSQL: false
  schema: ""
  sqlType: Fact
  type: sql
  version: 1
type: Node
