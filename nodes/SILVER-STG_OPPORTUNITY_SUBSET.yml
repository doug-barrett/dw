fileVersion: 1
id: dd2fea61-281a-4af9-889d-5624f1744a06
name: STG_OPPORTUNITY_SUBSET
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Current opportunity data subset for enrichment
  isMultisource: false
  locationName: SILVER
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b78f74c8-651c-481e-bb7a-33da6098cb22
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ef9bf38c-1774-4d6a-81a8-08d411e00c73
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 498f1bda-530e-4837-b960-4dbf99ec5503
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: DATE
        description: ""
        name: CLOSE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ca6b3960-b036-4668-bb18-33b01b0e1505
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fe0f4619-fff5-4190-9016-caf2f5eb5e0e
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_STAGE_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 17cec97e-b38a-4920-9584-c6b521b4d866
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ac478ca8-1167-4258-822e-f5f6c05cf43e
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_OPPORTUNITY_SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 984b4a04-0440-4b46-afe8-954fd15d5714
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 25afad09-482a-4014-80a9-a5fe283ed3cf
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_OPPORTUNITY_SOURCE_STATIC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f2ba3a78-b033-4516-abb0-f9242698108a
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09578e16-b383-4e2f-a5f0-35230a30dfb7
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: NUMBER
        description: ""
        name: CURR_NET_NEW_ACV
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: be2f3b39-0e39-4b31-805b-c6a37e357cb6
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: abf59f6d-3a06-48d2-87e6-d382fa85ec24
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_SALE_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07a7ff20-3186-4dc3-965c-22a31eab75fa
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5fd5fc27-c54b-4c41-9fda-ae0feeaa5a54
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_SALES_CHANNEL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 84683ba1-0717-4be3-aa6e-38dce31ad118
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb4d2e39-4878-4e18-8e91-86da5e1e301f
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_DEAL_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e567681-9a29-4431-9efc-2ac53671c8fc
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3903509e-c19c-4b0d-81ca-1b1f5b323773
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_ENDPOINT_DIVERSITY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 32bcfe2d-ef22-4f4e-b207-d85465206301
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 35d3ac23-0ace-4d05-92dc-8ca7adf6aa20
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_PARTNER_CATEGORY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98715202-169e-4fd3-a1c5-712daf171863
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2a215f79-6ab8-410a-9c36-959b96c732cc
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7f239e26-c35c-40f2-84a8-0dc2a46a581a
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d10be78e-1997-4001-bcdc-2e2028eb10fb
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_ICP
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fec6fa6b-a96d-4e80-865a-47a46aec29f7
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: CASE WHEN "OPPORTUNITY"."ICP" THEN 'ICP' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b8c2dedd-00c9-43e0-be9b-246f1d6c7093
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_OPPORTUNITY_PARTNER_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 474cbdec-28ab-4ed9-8066-4f22065fee8f
                stepCounter: cb63df64-a0f6-4291-8125-528b8cf51248
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9ae99f1e-8156-44f7-8660-2822e5c7126f
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_PRODUCT_EDITION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2db1048-f92c-4899-9e27-02264e8e7f10
                stepCounter: d53710b8-6cb7-4102-9807-753cc85eb8b8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a25e408e-1ff7-46c4-b997-c302eddbe008
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: SALES_TEAM_REPORTING
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 188c94a7-c536-46ba-8894-a9ae54e7576f
                stepCounter: 6649e624-0884-4ebc-b06d-d5f307a50d2a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f5936a7a-5708-4d2a-af9b-ca3244a8a2cb
          stepCounter: dd2fea61-281a-4af9-889d-5624f1744a06
        config: {}
        dataType: VARCHAR
        description: ""
        name: CURR_SUB_TEAM
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 17838752-ca65-435f-be13-13afa2b73b10
                stepCounter: 6812bcb7-3516-4133-8ffd-b27523caa6d0
            transform: ""
    cteString: ""
    description: ""
    destinationName: ""
    enabledColumnTestIDs: []
    materializationOption: ""
    sourceMapping:
      - aliases:
          LKP_SALES_TEAM_MAPPING: 6649e624-0884-4ebc-b06d-d5f307a50d2a
          OPPORTUNITY: cb63df64-a0f6-4291-8125-528b8cf51248
          USER: 6812bcb7-3516-4133-8ffd-b27523caa6d0
          VW_TS_PIPELINE_MASTER: d53710b8-6cb7-4102-9807-753cc85eb8b8
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: BRONZE
            nodeName: LKP_SALES_TEAM_MAPPING
          - locationName: BRONZE
            nodeName: OPPORTUNITY
          - locationName: BRONZE
            nodeName: USER
          - locationName: BRONZE
            nodeName: VW_TS_PIPELINE_MASTER
        join:
          joinCondition: |-
            FROM {{ ref('BRONZE', 'OPPORTUNITY') }} "OPPORTUNITY"
            LEFT JOIN {{ ref('BRONZE', 'LKP_SALES_TEAM_MAPPING') }} "LKP_SALES_TEAM_MAPPING" ON "OPPORTUNITY"."SALES_TEAM" = "LKP_SALES_TEAM_MAPPING"."SALES_TEAM"
            LEFT JOIN {{ ref('BRONZE', 'USER') }} "USER" ON "OPPORTUNITY"."OWNER_ID" = "USER"."ID"
            LEFT JOIN {{ ref('BRONZE', 'VW_TS_PIPELINE_MASTER') }} "VW_TS_PIPELINE_MASTER" ON "OPPORTUNITY"."ID" = "VW_TS_PIPELINE_MASTER"."OPPORTUNITY_ID"
        name: STG_NODE
        noLinkRefs: []
  name: STG_OPPORTUNITY_SUBSET
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
