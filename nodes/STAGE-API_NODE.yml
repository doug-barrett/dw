steps:
  API_NODE-3a9f5a54-0ce7-4936-9296-ca518da33444:
    operation:
      config:
        doc: |2-
           -- Create a Network Rule on Snowflake CREATE OR REPLACE  NETWORK RULE COALESCE_API_RULE MODE = EGRESS TYPE = HOST_PORT VALUE_LIST = ('APP.COALESCESOFTWARE.IO');
          -- Create Integration to access Coalesce API CREATE OR REPLACE EXTERNAL ACCESS INTEGRATION COALESCE_API_INTEGRATION ALLOWED_NETWORK_RULES = (COALESCE_API_RULE) ALLOWED_AUTHENTICATION_SECRETS = (COALESCE_API_TOKEN, COALESCE_API_USER_PW) ENABLED=TRUE;
        extIntegration: COALESCE_API_INTEGRATION
        headers: |-
          {
              "accept": "application/json",
              "content-type": "application/json",
              "Authorization": "Bearer AMf-vBxs6-5Lmdesnljb-Ep-IZPl2zUlfvzZusK40RhoMgWMl6YH06AzKkeHexOG_9pSU2_MMNsBCj_G31yYtH-XnUv-gBviavcU9s2N1Usjmg7pOo5J2bAXcgdsH3FNneh8TLmnRp8GYRLqQoxp5ifPpp9TQjHpebrN8udZ_S5PnxS3FW4sgSqL9vZTL21SWRJ93r32ZV1zvECZdDbcgkkepaIxYcDAFg"
          }
        method: get
        payload: ""
        uri: https://app.coalescesoftware.io/api/v1/runs
      database: ""
      deployEnabled: true
      description: ""
      isMultisource: false
      locationName: STAGE
      materializationType: table
      metadata:
        appliedNodeTests: []
        columns:
          - acceptedValues:
              strictMatch: true
              values: []
            appliedColumnTests: {}
            columnReference:
              columnCounter: 33ec835b-7270-4944-a453-e954928b0153
              stepCounter: 3a9f5a54-0ce7-4936-9296-ca518da33444
            config: {}
            dataType: STRING
            defaultValue: ""
            description: ""
            keyColumnType: None
            name: URI
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: "0"
                    stepCounter: "0"
                transform: ""
            systemColumnType: None
            transform: ""
          - acceptedValues:
              strictMatch: true
              values: []
            appliedColumnTests: {}
            columnReference:
              columnCounter: e555c883-acb8-41a8-9a54-45bcb0ad4e78
              stepCounter: 3a9f5a54-0ce7-4936-9296-ca518da33444
            config: {}
            dataType: VARIANT
            defaultValue: ""
            description: ""
            hashColumns: []
            name: RESPONSE
            nullable: true
            sourceColumnReferences:
              - columnReferences: []
                transform: ""
            value: true
        cteString: ""
        enabledColumnTestIDs: []
        sourceMapping:
          - aliases: {}
            customSQL:
              customSQL: ""
            dependencies: []
            join:
              joinCondition: ""
            name: API_NODE
            noLinkRefs: []
      name: API_NODE
      overrideSQL: false
      schema: ""
      sqlType: "187"
      type: sql
    stepCounter: 3a9f5a54-0ce7-4936-9296-ca518da33444
