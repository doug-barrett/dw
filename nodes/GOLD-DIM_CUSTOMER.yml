fileVersion: 1
id: 14c69838-7e05-40bc-beda-b4058dc1abf5
name: DIM_CUSTOMER
operation:
  config:
    pk: true
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: GOLD
  materializationType: table
  metadata:
    appliedNodeTests:
      - continueOnFailure: true
        description: ""
        name: Test - rowcount
        runOrder: After
        templateString: "{{ test.expect_table_row_count_to_equal_other_table(\"{{ref('BRONZE', 'CUSTOMER')}}\")}}"
      - continueOnFailure: true
        description: ""
        name: Test - Test data
        runOrder: After
        templateString: "{{ test.expect_column_values_to_not_match_like_pattern( \"C_NAME\", \"%TEST%\", filterCondition = None) }}"
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b205d74-68c5-45fd-ae2c-0dececa82cd4
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: System-generated surrogate key for the customer dimension table. Uniquely identifies each customer record, enabling efficient data retrieval and joins. Automatically generated with no direct source. Optimizes performance in analytical queries and reporting. Used for creating relationships in a star schema data warehouse. Primary key for the dimension. Referenced by fact tables for customer-related metrics. Facilitates historical analysis and trend identification. No business meaning outside of data warehouse.
        isBusinessKey: false
        isSurrogateKey: true
        name: DIM_CUSTOMER_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: addc14cc-4d6a-4a43-a051-f7ae3b30d03a
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        description: Customer's unique identifier from the source system, sourced from 'C_CUST_ID' in 'STG_CUSTOMER'. Serves as a business key for customer records. Used in reports and analyses to track customer-specific metrics and trends. Enables identification of individual customers. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for identifying unique customers.
        isBusinessKey: true
        name: C_CUST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abdfa44f-7012-4a65-ab6b-88ecf30b0189
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8792f268-eb6e-452f-88fd-eb9c4bca6082
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        description: Customer name, sourced from the 'C_NAME' column of the 'STG_CUSTOMER' staging table. Used in reports and customer profiling to understand customer demographics and segmentation. Aids in personalized marketing campaigns. Supports customer service initiatives. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for identifying customers.
        isBusinessKey: false
        name: C_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1b9031ea-eb85-4bf0-954f-4fbed2a01c9e
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ff2030ca-41ea-4595-b4ce-a4f8e353346a
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        description: Customer address, sourced from the 'C_ADDRESS' column in the 'STG_CUSTOMER' staging table. Used for geographical analysis, marketing campaigns, and delivery logistics. Supports targeted advertising. Aids in understanding customer distribution. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for identifying customer locations.
        isBusinessKey: false
        name: C_ADDRESS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 61cc1ad7-2091-4d36-a9e0-08a5064b858e
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f1f556ed-c404-46d7-8f48-e0da040f16fb
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        description: Customer phone number, sourced from the 'C_PHONE' column in the 'STG_CUSTOMER' staging table. Used for contacting customers, marketing campaigns, and customer support activities. Supports customer communication. Aids in resolving customer issues. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for contacting customers.
        isBusinessKey: false
        name: C_PHONE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb7c7723-f572-4820-87e1-9874a2c426fa
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c59ae45e-e240-4856-80e0-fe006027d0f0
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        description: Customer account balance, sourced from the 'C_ACCTBAL' column in the 'STG_CUSTOMER' staging table. Used in financial analysis, credit risk assessment, and customer valuation. Supports financial reporting. Aids in understanding customer profitability. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for financial analysis.
        isBusinessKey: false
        name: C_ACCTBAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4570ff01-8a93-4fd1-b50f-5b72d6300b6a
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - acceptedValues:
          strictMatch: false
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 5cea40ed-4b03-4479-88ae-bc60f207c21f
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: Categorization of customers based on predefined criteria, sourced from 'CUSTOMER_CATEGORY' in 'STG_CUSTOMER'. Supports targeted marketing, personalized services, and performance analysis by customer segment. Aids in understanding customer behavior. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for customer segmentation.
        name: CUSTOMER_CATEGORY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80da2502-a156-4974-8972-906651f58251
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5be2b901-d1c8-4a23-9d04-8767d8a2eb30
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        description: Nation identifier associated with the customer, sourced from 'C_NATION_ID' in 'STG_CUSTOMER'. Links customer data to nation-specific information, enabling geographical analysis and reporting. Supports international marketing campaigns. Aids in understanding customer demographics. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems.
        isBusinessKey: false
        isChangeTracking: true
        name: C_NATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0a437a56-e874-4373-8fc5-a621e997abbe
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - acceptedValues:
          strictMatch: false
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d1e970c5-492c-400a-ad74-d81a8e733bef
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR(25)
        description: Customer's nation, sourced from the 'NATION' column in the 'STG_CUSTOMER' staging table. Used for geographical analysis, reporting, and compliance purposes. Supports international marketing campaigns. Aids in understanding customer demographics. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for geographical analysis.
        name: NATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ef9e8075-c50f-4adc-8bd6-c47d1343551b
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - acceptedValues:
          strictMatch: false
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: abf33059-c926-47e0-8c97-4bf74c4e8152
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR(25)
        description: Customer's region, sourced from the 'REGION' column in the 'STG_CUSTOMER' staging table. Used for geographical analysis, reporting, and regional performance tracking. Supports regional marketing campaigns. Aids in understanding customer demographics. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for regional analysis.
        name: REGION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a46577e7-b87e-4991-8fcc-6b2066617599
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1ea7529e-b737-4ae8-9a2e-eacc2b43bfa0
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        description: Free-form notes on customer accounts. Used by sales and support teams for context during interactions. Sourced directly from the STG_CUSTOMER table without transformations. Aids in personalized service and issue resolution. Not used in aggregations or calculations. Useful for understanding customer-specific situations and tailoring communications. Supports compliance by documenting specific customer requests or agreements. Enables detailed tracking of customer history and preferences. Not a primary or foreign key.
        isBusinessKey: false
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd588e6c-496a-4eb1-990e-1e554c812b82
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ae8e95fb-f542-43ab-95ee-c51f0e824d28
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        description: Categorizes customers for targeted marketing. Used in segmentation analysis and campaign performance reports. Sourced directly from the STG_CUSTOMER table without transformations. Enables tailored messaging and product recommendations. Supports efficient allocation of marketing resources. Facilitates tracking of market trends and customer preferences. Not a primary or foreign key. Essential for understanding customer demographics and behavior. Used in strategic planning and sales forecasting.
        isBusinessKey: false
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f0909b1-0ca2-44e1-ada7-8a22da3618f1
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 65ecd372-76e3-4fd3-b2c3-ab39e33ae919
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: Tracks the number of updates to a customer record. System-generated column, incremented with each change. Enables auditing and historical analysis. Supports data lineage tracking and reconstruction of past states. Not sourced from any table. Used to identify the most recent version of a record. Essential for maintaining data integrity and consistency. Facilitates temporal analysis and trend identification. Not a primary or foreign key.
        isBusinessKey: false
        isSystemVersion: true
        name: SYSTEM_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5face700-c38f-4e84-b52f-30736497ab5b
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: Indicates the most recent version of a customer record. System-generated flag, set to 'Y' for the latest record. Simplifies querying for current customer information. Improves query performance by filtering historical records. Not sourced from any table. Managed automatically by the system. Essential for real-time reporting and decision-making. Supports efficient data retrieval and analysis. Not a primary or foreign key.
        isBusinessKey: false
        isSystemCurrentFlag: true
        name: SYSTEM_CURRENT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 47d8ab96-e373-4b3d-843f-1c114bc915fc
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record became active. System-generated timestamp using 'CURRENT_TIMESTAMP'. Crucial for tracking the effective period of customer attributes. Enables temporal analysis and trend identification. Not sourced from any table. Supports historical reporting and auditing. Facilitates the reconstruction of past states. Essential for understanding data evolution. Not a primary or foreign key. Used in compliance reporting and data governance.
        isBusinessKey: false
        isSystemStartDate: true
        name: SYSTEM_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c00de185-f64c-4229-90f3-b45c6848e54d
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record is no longer active. System-generated timestamp, initially set to '2999-12-31'. Updated when a record is modified. Essential for tracking customer data history. Not sourced from any table. Supports data lineage and auditing. Facilitates temporal analysis and trend identification. Enables the reconstruction of past states. Not a primary or foreign key. Used in compliance reporting.
        isBusinessKey: false
        isSystemEndDate: true
        name: SYSTEM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST('2999-12-31 00:00:00' AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a68621ab-d913-43b9-8ca8-4c5e63477df6
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record was initially created. System-generated timestamp using 'CURRENT_TIMESTAMP'. Provides a historical reference for record creation. Not sourced from any table. Supports auditing and tracking initial data entry. Facilitates historical reporting and analysis. Essential for understanding data provenance. Not a primary or foreign key. Used in compliance reporting and data governance. Aids in identifying data quality issues.
        isBusinessKey: false
        isSystemCreateDate: true
        name: SYSTEM_CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 89f9d2c5-0368-45be-ac0b-423714cbb7a8
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record was last updated. System-generated timestamp using 'CURRENT_TIMESTAMP'. Tracks the most recent modification to the record. Not sourced from any table. Essential for auditing and identifying data changes. Supports data accuracy and consistency. Facilitates historical reporting and analysis. Not a primary or foreign key. Used in compliance reporting and data governance. Aids in identifying data quality issues.
        isBusinessKey: false
        isSystemUpdateDate: true
        name: SYSTEM_UPDATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
    cteString: ""
    description: ""
    destinationName: ""
    enabledColumnTestIDs: []
    materializationOption: ""
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SILVER
            nodeName: STG_CUSTOMER
        join:
          joinCondition: FROM {{ ref('SILVER', 'STG_CUSTOMER') }} "STG_CUSTOMER"
        name: DIM_CUSTOMER
        noLinkRefs: []
  name: DIM_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
