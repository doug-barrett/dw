fileVersion: 1
id: 14c69838-7e05-40bc-beda-b4058dc1abf5
name: DIM_CUSTOMER
operation:
  config:
    pk: true
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: GOLD
  materializationType: table
  metadata:
    appliedNodeTests:
      - continueOnFailure: true
        description: ""
        name: Test - rowcount
        runOrder: After
        templateString: "{{ test.expect_table_row_count_to_equal_other_table(\"{{ref('BRONZE', 'CUSTOMER')}}\")}}"
      - continueOnFailure: true
        description: ""
        name: Test - Test data
        runOrder: After
        templateString: "{{ test.expect_column_values_to_not_match_like_pattern( \"C_NAME\", \"%TEST%\", filterCondition = None) }}"
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b205d74-68c5-45fd-ae2c-0dececa82cd4
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: System-generated surrogate key for the customer dimension table. Uniquely identifies each customer record, enabling efficient data retrieval and joins. Automatically generated with no direct source. Optimizes performance in analytical queries and reporting. Used for creating relationships in a star schema data warehouse. Primary key for the dimension. Referenced by fact tables for customer-related metrics. Facilitates historical analysis and trend identification. No business meaning outside of data warehouse.
        isBusinessKey: false
        isSurrogateKey: true
        name: DIM_CUSTOMER_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: addc14cc-4d6a-4a43-a051-f7ae3b30d03a
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        description: Customer's unique identifier from the source system, sourced from 'C_CUST_ID' in 'STG_CUSTOMER'. Serves as a business key for customer records. Used in reports and analyses to track customer-specific metrics and trends. Enables identification of individual customers. No transformations applied. Retains original source values. Used for auditing and reconciliation. Facilitates data integration across systems. Essential for identifying unique customers.
        isBusinessKey: true
        name: C_CUST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abdfa44f-7012-4a65-ab6b-88ecf30b0189
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d64d22ff-5f5e-4105-84b4-0c6fa91819b8
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: C_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1b9031ea-eb85-4bf0-954f-4fbed2a01c9e
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 14f9e9ca-7033-4462-87ab-51d3fdc3ccdb
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_NATION_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0a437a56-e874-4373-8fc5-a621e997abbe
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 837e77c9-38ba-4009-b647-52f65fb41080
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: C_PHONE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb7c7723-f572-4820-87e1-9874a2c426fa
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3cc3ea55-6ee0-4106-97b4-987022d9b69d
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: C_ADDRESS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 61cc1ad7-2091-4d36-a9e0-08a5064b858e
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b319b1cf-d91b-479f-95a6-32b6fdb5b594
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: NATION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ef9e8075-c50f-4adc-8bd6-c47d1343551b
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3383ba2a-40ce-45a6-ba29-e120e3ca87ef
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: REGION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a46577e7-b87e-4991-8fcc-6b2066617599
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fa68d3be-3d46-4121-b902-b881454ad969
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4570ff01-8a93-4fd1-b50f-5b72d6300b6a
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3de6ba4d-f9f7-47a6-9fe6-24f48c35b06a
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f0909b1-0ca2-44e1-ada7-8a22da3618f1
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e84b0c0b-3b77-423f-943b-ed6cb16de2f2
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f0909b1-0ca2-44e1-ada7-8a22da3618f1
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9e9552f8-627a-48c8-8679-047171bb7ad6
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: STRING
        description: ""
        name: FULL_ADDRESS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5d5549b7-5107-419f-ae67-98ca84e32dc3
                stepCounter: f722dceb-b061-4310-a4ce-1a65c9d4b61c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 65ecd372-76e3-4fd3-b2c3-ab39e33ae919
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: Tracks the number of updates to a customer record. System-generated column, incremented with each change. Enables auditing and historical analysis. Supports data lineage tracking and reconstruction of past states. Not sourced from any table. Used to identify the most recent version of a record. Essential for maintaining data integrity and consistency. Facilitates temporal analysis and trend identification. Not a primary or foreign key.
        isBusinessKey: false
        isSystemVersion: true
        name: SYSTEM_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5face700-c38f-4e84-b52f-30736497ab5b
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: Indicates the most recent version of a customer record. System-generated flag, set to 'Y' for the latest record. Simplifies querying for current customer information. Improves query performance by filtering historical records. Not sourced from any table. Managed automatically by the system. Essential for real-time reporting and decision-making. Supports efficient data retrieval and analysis. Not a primary or foreign key.
        isBusinessKey: false
        isSystemCurrentFlag: true
        name: SYSTEM_CURRENT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 47d8ab96-e373-4b3d-843f-1c114bc915fc
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record became active. System-generated timestamp using 'CURRENT_TIMESTAMP'. Crucial for tracking the effective period of customer attributes. Enables temporal analysis and trend identification. Not sourced from any table. Supports historical reporting and auditing. Facilitates the reconstruction of past states. Essential for understanding data evolution. Not a primary or foreign key. Used in compliance reporting and data governance.
        isBusinessKey: false
        isSystemStartDate: true
        name: SYSTEM_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c00de185-f64c-4229-90f3-b45c6848e54d
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record is no longer active. System-generated timestamp, initially set to '2999-12-31'. Updated when a record is modified. Essential for tracking customer data history. Not sourced from any table. Supports data lineage and auditing. Facilitates temporal analysis and trend identification. Enables the reconstruction of past states. Not a primary or foreign key. Used in compliance reporting.
        isBusinessKey: false
        isSystemEndDate: true
        name: SYSTEM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST('2999-12-31 00:00:00' AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a68621ab-d913-43b9-8ca8-4c5e63477df6
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record was initially created. System-generated timestamp using 'CURRENT_TIMESTAMP'. Provides a historical reference for record creation. Not sourced from any table. Supports auditing and tracking initial data entry. Facilitates historical reporting and analysis. Essential for understanding data provenance. Not a primary or foreign key. Used in compliance reporting and data governance. Aids in identifying data quality issues.
        isBusinessKey: false
        isSystemCreateDate: true
        name: SYSTEM_CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 89f9d2c5-0368-45be-ac0b-423714cbb7a8
          stepCounter: 14c69838-7e05-40bc-beda-b4058dc1abf5
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: Date and time when a customer record was last updated. System-generated timestamp using 'CURRENT_TIMESTAMP'. Tracks the most recent modification to the record. Not sourced from any table. Essential for auditing and identifying data changes. Supports data accuracy and consistency. Facilitates historical reporting and analysis. Not a primary or foreign key. Used in compliance reporting and data governance. Aids in identifying data quality issues.
        isBusinessKey: false
        isSystemUpdateDate: true
        name: SYSTEM_UPDATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
    cteString: ""
    description: ""
    destinationName: ""
    enabledColumnTestIDs: []
    materializationOption: ""
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SILVER
            nodeName: STG_CUSTOMER
        join:
          joinCondition: FROM {{ ref('SILVER', 'STG_CUSTOMER') }} "STG_CUSTOMER"
        name: DIM_CUSTOMER
        noLinkRefs: []
  name: DIM_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Base:::388
  type: sql
  version: 1
type: Node
